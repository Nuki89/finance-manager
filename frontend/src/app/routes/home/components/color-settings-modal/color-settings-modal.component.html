<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" aria-hidden="true" (click)="closeModal()">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full" (click)="$event.stopPropagation()">

        <h2 class="text-lg font-bold">
            {{ selectedType === 'income' ? 'Income' : 'Expense' }} Colors
        </h2>

        <div class="mt-6 grid grid-cols-1 gap-4 mb-6">
    
            <div *ngIf="selectedType === 'income'" class="grid grid-cols-2 gap-4 w-full">
                <div *ngFor="let category of incomeSources" class="flex items-center gap-4">                    
                    <div class="relative w-10 h-10">
                        <input 
                        type="color"
                        class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                        [value]="incomeColorMap[category]" 
                        (change)="onColorChange(category, $event)" 
                        />
                        <div 
                        class="w-10 h-10 rounded-full border border-gray-300 shadow-sm"
                        [style.backgroundColor]="incomeColorMap[category]"
                        ></div>
                    </div>
                    <span                     
                        title="{{ category }}">
                        {{ category }}
                    </span>
                </div>
            </div>

            <div *ngIf="selectedType === 'expense'" class="grid grid-cols-2 gap-4 w-full">
                <div *ngFor="let category of expenseSources" class="flex items-center gap-4">
                    <span                     
                        title="{{ category }}">
                        {{ category }}
                    </span>
                    <div class="relative w-10 h-10">
                        <input 
                        type="color"
                        class="opacity-0 absolute inset-0 w-full h-full cursor-pointer"
                        [value]="expenseColorMap[category]" 
                        (change)="onColorChange(category, $event)" 
                        />
                        <div 
                        class="w-10 h-10 rounded-full border border-gray-300 shadow-sm"
                        [style.backgroundColor]="expenseColorMap[category]"
                        ></div>
                    </div>                  
                </div>
              </div>

        </div>

        <div class="flex gap-2 mt-4">
            <app-action-button 
                text="Save"
                tooltip="Save"
                type="button"
                buttonClass="text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 shadow-lg shadow-green-500/50 dark:shadow-lg dark:shadow-green-800/80 font-medium"
                (click)="saveChanges()"
            ></app-action-button>

            <app-action-button 
                text="Cancel"
                tooltip="Cancel"
                type="button"
                buttonClass="text-white bg-gradient-to-r from-gray-400 via-gray-500 to-gray-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-gray-300 dark:focus:ring-gray-800 shadow-lg shadow-gray-500/50 dark:shadow-lg dark:shadow-gray-800/80 font-medium"
                (click)="closeModal()"
            ></app-action-button>
        </div>
  
    </div>
</div>